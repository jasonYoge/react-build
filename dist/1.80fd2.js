webpackJsonp([1],{306:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function selector(e){return{data:e.blogList.get("data"),display:!e.showLoading}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(3),i=_interopRequireDefault(n),s=r(28),a=r(29),l=r(499),u=_interopRequireDefault(l),f=r(500),c=_interopRequireDefault(f),d=r(130),p=_interopRequireDefault(d),h=r(45),y=_interopRequireDefault(h),b=(r(36),r(496)),m=r(129);r(317);var g=function(e){function Blog(e){return _classCallCheck(this,Blog),_possibleConstructorReturn(this,(Blog.__proto__||Object.getPrototypeOf(Blog)).call(this,e))}return _inherits(Blog,e),o(Blog,[{key:"render",value:function(){var e=this.props,t=e.dispatch,r=e.data,o=e.display,n=(0,y.default)({blog:!0,"blog-hide":!o});return i.default.createElement("div",{className:n},i.default.createElement(u.default,null),i.default.createElement(c.default,{data:r,fetchBlogList:(0,a.bindActionCreators)(b.fetchBlogList,t),showLoading:(0,a.bindActionCreators)(m.showLoadingCreator,t)}),i.default.createElement("div",{className:"footer"},i.default.createElement(p.default,null)))}},{key:"routerWillLeave",value:function(e){console.log(123)}}]),Blog}(n.Component);t.default=(0,s.connect)(selector)(g)},307:function(e,t,r){"use strict";r(308),e.exports=self.fetch.bind(self)},308:function(e,t,r){"use strict";!function(e){function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsArrayBuffer(e),r}function readBlobAsText(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsText(e),r}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&o(e))this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!n(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}function Request(e,t){t=t||{};var r=t.body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function parseHeaders(e){var t=new Headers;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function Response(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},n=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var r=this.map[e];this.map[e]=r?r+","+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),iteratorFor(e)},t.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];Response.redirect=function(e,t){if(s.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=function(e,r){return new Promise(function(o,n){var i=new Request(e,r),s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:parseHeaders(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL"),o(new Response("response"in s?s.response:s.responseText,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&t.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)},311:function(e,t,r){t=e.exports=r(303)(),t.push([e.i,".blog{width:77%;height:100%;overflow-y:auto;position:relative;overflow-scrolling:touch;-webkit-overflow-scrolling:touch}@media (max-width:825px){.blog{width:100%}}.blog-hide{display:none}",""])},312:function(e,t,r){t=e.exports=r(303)(),t.push([e.i,".blog-header{width:80%;margin:auto;margin-top:30px;border-bottom:4px solid #eee;padding-bottom:3em}@media (max-width:825px){.blog-header{width:90%;margin-top:56px}}.blog-header h2{font-size:300%;color:#555}.blog-header .blog-header-img{height:300px;background:url("+r(502)+") no-repeat 50%/cover;border:5px solid #ddd;margin:3em 0;box-sizing:border-box}",""])},313:function(e,t,r){t=e.exports=r(303)(),t.push([e.i,".blog-list{width:80%;margin:auto}@media (max-width:825px){.blog-list{width:90%}}",""])},314:function(e,t,r){t=e.exports=r(303)(),t.push([e.i,".blog-list-item{padding-top:40px;padding-bottom:40px;border-bottom:1px solid #eee;position:relative;-webkit-transition:background .5s ease;transition:background .5s ease;cursor:pointer}.blog-list-item:hover{background:#eee}.blog-list-item:last-child{border:none;margin-bottom:10px}.blog-list-item h4{font-size:300%;word-wrap:break-word}.blog-list-item .blog-list-item-tag{font-style:italic}.blog-list-item .blog-list-item-tag span{font-style:normal}.blog-list-item .blog-list-item-content{padding-top:20px;padding-bottom:20px;font-style:italic;text-indent:2em}.blog-list-item .blog-list-item-tail{text-align:right;position:absolute;bottom:0;left:0;right:0;padding-right:10px;padding-bottom:10px;color:#555}",""])},317:function(e,t,r){var o=r(311);"string"==typeof o&&(o=[[e.i,o,""]]);r(304)(o,{});o.locals&&(e.exports=o.locals)},318:function(e,t,r){var o=r(312);"string"==typeof o&&(o=[[e.i,o,""]]);r(304)(o,{});o.locals&&(e.exports=o.locals)},319:function(e,t,r){var o=r(313);"string"==typeof o&&(o=[[e.i,o,""]]);r(304)(o,{});o.locals&&(e.exports=o.locals)},320:function(e,t,r){var o=r(314);"string"==typeof o&&(o=[[e.i,o,""]]);r(304)(o,{});o.locals&&(e.exports=o.locals)},496:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBlogList=t.receivedData=t.RECEIVED_DATA=t.FETCH_BLOG_LIST=void 0;var o=r(307),n=_interopRequireDefault(o),i=(t.FETCH_BLOG_LIST="FETCH_BLOG_LIST",t.RECEIVED_DATA="RECEIVED_DATA"),s=t.receivedData=function(e){return{type:i,data:e}};t.fetchBlogList=function(){return function(e,t){return(0,n.default)("http://www.yangwenjie.net.cn/api/bloglist").then(function(e){return e.json()}).then(function(t){if(!t.length)throw new Error("Fetched a wrong data which length is null from server.");e(s(t))}).catch(function(e){throw new Error(e)})}}},499:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=_interopRequireDefault(o);r(318);var i=function(){return n.default.createElement("header",{className:"blog-header"},n.default.createElement("h2",null,"关于我的博客"),n.default.createElement("div",{className:"blog-header-img"}),n.default.createElement("p",null,"这个个人博客，主要目的是记录自己平时学习当中所遇到的一些问题。把这些问题归纳总结，方便以后自己查阅。"))};t.default=i},500:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(3),i=_interopRequireDefault(n),s=r(501),a=_interopRequireDefault(s);r(319);var l=function(e){function BlogList(){return _classCallCheck(this,BlogList),_possibleConstructorReturn(this,(BlogList.__proto__||Object.getPrototypeOf(BlogList)).apply(this,arguments))}return _inherits(BlogList,e),o(BlogList,[{key:"componentWillMount",value:function(){0===this.props.data.length?this.props.fetchBlogList():this.props.showLoading(!1)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this;return 0!==e.data.length&&(setTimeout(function(){r.props.showLoading(!1)},1e3),!0)}},{key:"render",value:function(){return i.default.createElement("ul",{className:"blog-list"},this.renderItems())}},{key:"renderItems",value:function(){var e=this.props.data;if(0!==e.length)return e.map(function(e){return i.default.createElement(a.default,{key:e._id,id:e._id,date:e.date,desc:e.desc,tag:e.tags,title:e.title})})}}]),BlogList}(n.Component);t.default=l,l.propTypes={fetchBlogList:n.PropTypes.func.isRequired,data:n.PropTypes.array.isRequired,showLoading:n.PropTypes.func.isRequired}},501:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=r(3),i=_interopRequireDefault(n),s=r(36);r(320);var a=function(e){function BlogListItem(){return _classCallCheck(this,BlogListItem),_possibleConstructorReturn(this,(BlogListItem.__proto__||Object.getPrototypeOf(BlogListItem)).apply(this,arguments))}return _inherits(BlogListItem,e),o(BlogListItem,[{key:"render",value:function(){var e=this;return i.default.createElement("li",{className:"blog-list-item",onClick:function(){s.hashHistory.push("article/"+e.props.id)}},i.default.createElement("h4",null,this.props.title),i.default.createElement("p",{className:"blog-list-item-tag"},i.default.createElement("span",null,"文章分类："),this.getTagname()),i.default.createElement("p",{className:"blog-list-item-content"},this.props.desc),i.default.createElement("div",{className:"blog-list-item-tail"},i.default.createElement("span",null,"创建时间：",this.getFormatDate())))}},{key:"getTagname",value:function(){return this.props.tag.reduce(function(e,t){return e+", "+t})}},{key:"getFormatDate",value:function(){var e=this.props.date.split("T");return e[0]+"   "+e[1].split(".")[0]}}]),BlogListItem}(n.Component);t.default=a,a.propTypes={date:n.PropTypes.string.isRequired,desc:n.PropTypes.string.isRequired,tag:n.PropTypes.array.isRequired,title:n.PropTypes.string.isRequired,id:n.PropTypes.string.isRequired}},502:function(e,t,r){e.exports=r.p+"img/blog-header.jpg"}});